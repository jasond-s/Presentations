/*! Version=16.0.6830.2200 */
Type.registerNamespace("Common.App.Rename");Common.App.Rename.m=function(){};Common.App.Rename.m.registerInterface("Common.App.Rename.m");Common.App.Rename.g=function(){};Common.App.Rename.g.registerInterface("Common.App.Rename.g");Common.App.Rename.h=function(){};Common.App.Rename.h.registerInterface("Common.App.Rename.h");Common.App.Rename.j=function(){this.e=Function.createDelegate(this,this.f)};Common.App.Rename.j.prototype={d:null,a:function(){return"Common.App.RenameFile"},c:function(b){this.d=b;var a=this;this.d.b(Common.App.Rename.i).g(Common.App.Rename.g).f(function(){return new Common.App.Rename.i(Common.a.c(),a.d.d(Common.App.Rename.h))}).e();var c=this;this.d.b(Common.App.Rename.c).g(Common.App.Rename.h).f(function(){return new Common.App.Rename.c(Common.a.c())}).e()},b:function(){Common.a.b.e(this.e)},f:function(){if(!Common.a.ba())return;if(!Common.App.Rename.a.b().C(Common.a.y,Common.a.X,Common.a.by||$a.E))return;Common.App.Rename.b.c().u();if(Common.a.b.a("RenameDialogIsEnabled")){this.d.a(Common.App.Rename.c).f(Common.a.j,Common.a.X);this.d.a(Common.App.Rename.g).a()}}};Common.App.Rename.n=function(){};Common.App.Rename.n.a=function(){Common.App.a.a().a(new Common.App.Rename.j)};Common.App.Rename.b=function(a,b,c,d,e,f,g){this.k=Function.createDelegate(this,this.s);this.l=Function.createDelegate(this,this.t);this.m=Function.createDelegate(this,this.v);this.n=Function.createDelegate(this,this.x);this.j=Function.createDelegate(this,this.r);this.h=a;this.f=b;this.g=c;this.a=d;this.d=e;this.b=f;this.e=g};Common.App.Rename.b.c=function(){return Common.App.Rename.b.a||(Common.App.Rename.b.a=Common.App.Rename.b.d())};Common.App.Rename.b.d=function(){return new Common.App.Rename.b(Common.a.ba,new($$sc.r.$$(Common.cO))(function(){return Common.a.c()}),new($$sc.r.$$(Common.dP))(function(){return Common.a.U}),Common.a.j,Common.a.bb,Common.a.cG,Common.App.Rename.a.b().A)};Common.App.Rename.b.b=function(b,c){var a=Common.d.v(b);return c+a};Common.App.Rename.b.prototype={f:null,g:null,a:null,d:false,b:false,h:null,e:null,u:function(){this.c().a(3740310824,2147483648,this.j);this.c().a(2638199087,2147483648,this.n);this.c().a(1897077126,2147483648,this.m)},o:function(){return!this.h()?8:this.i()&&!this.i().a()||!this.b?8:32},r:function(){var a=Common.App.Rename.a.b().C(Common.a.y,Common.a.X,Common.a.by||$a.E);return a?32:8},x:function(){var a=this.i().a();Diag.a.a(4059649,203,50,"ShowRenameDisabledDialog: userIsAnonymous = {0}, userCanRename = {1}, userIsAlone = {2}",this.d,this.b,a);new Common.App.Rename.e(this.d,!this.b,!a);return 32},v:function(c,d,a,e,b){if(a===1)return this.o();if(!Common.a.W)return 8;if(this.o()===8){this.c().c(2638199087,2);return 8}Common.a.W(b,this.l,this.k);return 32},t:function(a,b){if(a.OperationResult){this.q(a.OperationResult);return}this.w(b,a.NewName);this.y(a,Common.a.a().a().j);Common.a.b.a("DocumentNameInJewelInfoMenuIsEnabled")&&Common.a.a().x(false)},w:function(b,c){var a={};a.NewName=c;b.a("File_Rename",a)},y:function(b,d){this.z(b.NewName);Common.a.V=b.DirectInvokeDavUrl;var c=d(b.EditDocInClientUrl),a=new Common.ek;a.c=this.a.a();a.a=c;a.b=b.EditDocInClientUrl;this.c().b(2391221446,2,a)},q:function(b){switch(b){case 1:var a=new CommonUI.d;a.h(0);a.Y($a.D,$a.C,null);this.p()}},z:function(a){this.a.c(Common.App.Rename.b.b(this.a.a(),a));this.e(a)},s:function(b){var a=new CommonUI.d;a.h(0);if(b===1)a.Y($a.D,$a.C,null);else{Common.a.L(25);a.Y($a.cx,$a.cw,null)}this.p()},p:function(){this.e(Common.d.f(this.a.a()))},c:function(){return this.f.a()},i:function(){return this.g.a()}};Common.App.Rename.k=function(a,b,c){this.e=Function.createDelegate(this,this.P);Common.App.Rename.k.initializeBase(this);this.d=a;this.b=b;this.c=c;this.z=Common.App.Rename.d.b()};Common.App.Rename.k.prototype={d:null,b:null,c:0,a:function(){var b={txtDocumentName:Common.d.f(this.b.a())};this.E($a.cv,this.e,b);var a=$get("txtDocumentName");if(this.c>0)a.maxLength=this.c;a.focus()},P:function(c,d){if(c===1){var b=Common.d.f(this.b.a()),a=(d.txtDocumentName||"").trim();if(a!==b&&a!==""){this.d.b(1897077126,2,a);return}}Common.X.b().a("DoNothingResult",{Reason:"FileNameUnchanged"})}};Common.App.Rename.i=function(a,b){this.d=Function.createDelegate(this,this.e);this.b=a;this.c=b};Common.App.Rename.i.prototype={b:null,c:null,a:function(){this.b.a(2382951455,2147483648,this.d)},e:function(e,f,d){var a=32;if(d===2){var b=this.b.c(1897077126,1);if(b!==32){this.b.c(2638199087,2);Common.X.b().a("FailedProcessingStep",{Reason:"RenameDisabled"});a=8}else{var c=this.c.a().a();c.a()}}return a}};Common.App.Rename.c=function(a){this.c=a;this.b=false};Common.App.Rename.c.prototype={c:null,d:null,e:0,b:false,f:function(a,b){this.d=a;this.e=b;this.b=true},a:function(){return this.b?new Common.App.Rename.k(this.c,this.d,this.e):null}};Common.App.Rename.e=function(a,b,c){Common.App.Rename.e.initializeBase(this);this.a=new Common.App.Rename.l(a,b,c);this.h(0);this.m(1,$a.b);this.z=Common.App.Rename.f.b();this.br($a.cE,null)};Common.App.Rename.e.a=function(a,b,c){a.style.display="none";b.innerText=c};Common.App.Rename.e.prototype={a:null,S:function(){if(this.a.a)Common.App.Rename.e.a($get("ulRenameFileDisabled"),$get("labelDisabledMessage"),$a.cA);else if(this.a.b)Common.App.Rename.e.a($get("ulRenameFileDisabled"),$get("labelDisabledMessage"),$a.cC);else this.b()},b:function(){if(this.a.e)$get("liRenameFileRenameDisabledSignIn").style.display="none";if(this.a.d)$get("liRenameFileRenameDisabledPermission").style.display="none";if(this.a.c)$get("liRenameFileRenameDisabledCoauth").style.display="none"}};Common.App.Rename.l=function(a,b,c){this.a=!a&&!b;this.b=!a&&!c;if(!this.a&&!this.b){this.e=!a;this.d=!b;this.c=!c}};Common.App.Rename.l.prototype={a:false,b:false,e:false,d:false,c:false};Common.App.Rename.a=function(c,d,e,f,g,h,i,j,k,l,a,b){this.z=Function.createDelegate(this,this.L);this.y=Function.createDelegate(this,this.K);this.w=Function.createDelegate(this,this.G);this.x=Function.createDelegate(this,this.J);this.v=Function.createDelegate(this,this.F);this.A=Function.createDelegate(this,this.u);this.b=c;this.f=d;this.r=e;this.n=f;this.h=g;this.o=h;this.d=i;this.g=j;this.c=k;this.l=l;this.k=a;this.i=b};Common.App.Rename.a.d=function(){Common.h.B(Common.a.h)};Common.App.Rename.a.b=function(){return Common.App.Rename.a.a||(Common.App.Rename.a.a=Common.App.Rename.a.c())};Common.App.Rename.a.c=function(){return new Common.App.Rename.a(Common.a.c(),Common.z.a(),Common.j.a(),Common.c.a(),Common.a.j,Common.App.Rename.a.d,Common.e.X,Common.e.L,Common.Utils.a.a().c(Common.bM),Common.b.f(),Common.b.b(),Common.b.c())};Common.App.Rename.a.prototype={q:false,b:null,f:null,r:null,n:null,c:null,h:null,o:null,d:null,g:null,a:null,m:0,l:false,k:false,i:false,j:false,p:false,e:function(){return this.a.getAttribute("contentEditable")==="true"},C:function(a,b,c){if(!this.b||!this.h||!this.o||!this.d||!this.g||!a||b<=0)return false;this.a=a;this.a.style.direction=Common.a.h?"rtl":"ltr";this.a.title=c;this.a.setAttribute("role","button");this.a.setAttribute("Unselectable","on");this.m=b;this.M();this.q=true;return true},M:function(){if(this.f){this.f.a("blur",this.a,this.v);this.f.a("paste",this.a,this.x)}this.r.a("keydown",this.a,this.w);this.n.a("msospPointerDown",this.a,this.y);this.n.a("msospPointerUp",this.a,this.z)},F:function(){if(this.e()&&!this.j){!this.l&&this.g(this.a);this.B();this.s(false)}this.j=false;return false},J:function(){Diag.a.a(4281482,203,50,"Attempting to paste into the document title");return true},G:function(a){return this.e()?this.H(a):this.I(a)},H:function(c){var b=c.a.keyCode,a=false;switch(b){case 13:this.B();this.s(this.k||this.i);a=true;break;case 9:this.l&&this.g(this.a);break;case 27:this.t();this.s(this.k||this.i);a=true}return a},I:function(c){var b=c.a.keyCode,a=false;switch(b){case 13:case 32:this.D(this.i);this.e()&&this.d(this.a);a=true}return a},K:function(){if(!this.e()){this.D(false);if(this.e()){this.a.focus();this.d(this.a);this.p=true}}return false},L:function(){if(this.p){this.d(this.a);this.p=false;return true}return false},E:function(){var a=this.b.c(1897077126,1);return a===32},B:function(){var b=Common.d.f(this.h.a()),a=this.a.innerText.trim();if(a.length>this.m)a=a.substr(0,this.m);if(a!==b&&a!==""){var c=this.b.b(1897077126,2,a);if(c!==32)this.t();else this.u(a)}else this.t()},t:function(){this.u(Common.d.f(this.h.a()))},u:function(a){if(!this.q)return;this.a.innerText=a;this.o()},D:function(a){if(!this.E())this.b.c(2638199087,2);else if(!this.e()){if(a){this.j=true;this.a.blur()}this.a.setAttribute("contentEditable","true");this.a.removeAttribute("Unselectable");this.a.setAttribute("role","textbox");this.a.style.width="auto";Sys.UI.DomElement.addCssClass(this.a,"EditableBreadcrumbItem");if(this.c){var b=this;this.c.a(function(a){a.d(true)})}a&&this.a.focus();Diag.a.a(9234188,203,50,"Rename document from header.")}},s:function(a){this.a.removeAttribute("contentEditable");this.a.setAttribute("Unselectable","on");this.a.setAttribute("role","button");Sys.UI.DomElement.removeCssClass(this.a,"EditableBreadcrumbItem");if(this.c){var b=this;this.c.a(function(a){a.d(false)})}if(a){this.a.blur();this.a.focus()}}};Common.App.Rename.d=function(){};Common.App.Rename.d.b=function(){return CommonUI.e.a(Common.App.Rename.d.a,$a.cu)};Common.App.Rename.f=function(){};Common.App.Rename.f.b=function(){return CommonUI.e.a(Common.App.Rename.f.a,$a.cy,$a.cD,$a.cB,$a.cz)};Common.App.Rename.k.registerClass("Common.App.Rename.k",CommonUI.e);Common.App.Rename.i.registerClass("Common.App.Rename.i",null,Common.App.Rename.g);Common.App.Rename.c.registerClass("Common.App.Rename.c",null,Common.App.Rename.h);Common.App.Rename.e.registerClass("Common.App.Rename.e",CommonUI.e);Common.App.Rename.b.a=null;Common.App.Rename.a.a=null;Common.App.Rename.d.a="<div class='WACDialogRow' id='DocumentNameBlock'> <label id='lblDocumentName' class='WACDialogLabel' for='txtDocumentName' >{0}</label> <input type='text' id='txtDocumentName' class='WACDialogInput'/> </div>";Common.App.Rename.f.a="<div class='WACDialogRow' id='RenameRow'> <label id='labelDisabledMessage' class='WACDialogLabel' >{0}</label> <div class='WACDialogRow' id='MultipleSuggestionsRow'> <ul id='ulRenameFileDisabled' class='WACDialogUList'> <li id='liRenameFileRenameDisabledSignIn'>{1}</li> <li id='liRenameFileRenameDisabledPermission'>{2}</li> <li id='liRenameFileRenameDisabledCoauth'>{3}</li> </ul> </div> </div>";Common.App.Rename.n.a();Type.registerNamespace("_Ewa");_Ewa.rd=function(a){this.b=a};_Ewa.rd.prototype={b:null,a:function(){return!this.b.b().G()}};_Ewa.rf=function(a){this.a=a};_Ewa.rf.prototype={a:null,l:function(c,a,b){this.a.b(b,a);return $$sc.a.a(Boolean,true)},k:function(c,b,d,a){return b.a===1897077126&&!!a&&a.a===1},m:function(){return false},n:function(){return false},dispose:function(){this.a=null}};_Ewa.kO=function(a){_Ewa.kO.initializeBase(this,[a])};_Ewa.kO.a=function(a){_Ewa.N.a(107,new _Ewa.kO(a))};_Ewa.kO.prototype={j:function(){var a=_Ewa.m.a(_Ewa.eO,this.h.a(),108,this.ch()),b=this;_Ewa.f.cw(a,function(){b.k([new _Ewa.rf(a.a())],null)},this.ch(),3)}};_Ewa.yl=function(){};_Ewa.yl.a=function(){_Ewa.e.a(function(a){_Ewa.kQ.a(a);_Ewa.kO.a(a)})};_Ewa.kP=function(a,b){this.i=Function.createDelegate(this,this.l);this.j=Function.createDelegate(this,this.m);this.h=Function.createDelegate(this,this.k);_Ewa.kP.initializeBase(this,[false]);this.c=a;this.f=b};_Ewa.kP.a=function(b){var a;switch(b.Errors[0].MessageId){case 413:a=2;break;case 414:a=1;break;case 415:a=4;break;default:a=5}return a};_Ewa.kP.prototype={f:null,c:null,d:null,g:null,e:null,a:function(){Common.a.W=this.h;this.d=Common.a.U;Common.a.U=new _Ewa.rd(this.c)},dispose:function(){Common.a.W=null;Common.a.U=this.d;this.d=null;this.c=null;_Ewa.vc.prototype.dispose.call(this)},b:function(c,d){var b=c.newFileName;if(!!b){var a=this,e=this;_Ewa.bi.a(this.c.g(),function(c,d){return _Ewa.re.a(a.c.c().a(),b,_Ewa.p.a(c,a.j),_Ewa.p.b(d,a.i),null)},function(a){return new _Ewa.M(0,a,0)},d)}},k:function(a,b,c){this.g=b;this.e=c;this.c.e().b(new _Ewa.T(1897077126,_Ewa.v.a,2,3,null),{newFileName:a},null)},m:function(c){if(_Ewa.O.a(c)||!c.Result){var d=_Ewa.kP.a(c),e=[413,414,415,416,412];_Ewa.y.a(this.c).a().h(e);this.e(d)}else{var b=c.Result;this.c.j().FullDocumentInfo.DownloadACopyUrl=b.DownloadACopyUrl;var a={};a.NewName=b.NewFileName;a.DirectInvokeDavUrl=b.DirectInvokeDAVUrl;a.EditDocInClientUrl=b.EditDocInClientUrl;a.OperationResult=0;this.g(a,this.f)}},l:function(){this.e(5)}};_Ewa.kQ=function(a){_Ewa.kQ.initializeBase(this);this.h=a;this.l()};_Ewa.kQ.a=function(a){a.a().a(_Ewa.wV.$$(_Ewa.eO),108,new _Ewa.kQ(a))};_Ewa.kQ.prototype={h:null,k:null,j:null,c:function(){if(!this.j){var a=_Ewa.cp.a(_Ewa.eO,_Ewa.V.a(),this.ch(),"Task",null);this.j=a.a;var b=_Ewa.m.a(Common.E,this.h.a(),125,this.ch()),e=_Ewa.m.a(Object,this.h.a(),143,this.ch()),c=this;_Ewa.f.cw(_Ewa.f.ws([e,b],this.ch(),3),function(){a.b(new _Ewa.kP(c.h,b.a()))},this.ch(),3)}var d=this;this.j.CW(function(a){d.i(a.a())})},dispose:function(){System.a.a(this.k);this.k=null;this.h=null;_Ewa.bP.prototype.dispose.call(this)}};_Ewa.re=function(){};_Ewa.re.a=function(b,c,d,e,f){var a=b.a(17);a.newFileName=c;return _Ewa.d.a(b,"RenameFile",a,d,e,f,0)};_Ewa.kO.registerClass("_Ewa.kO",_Ewa.N);_Ewa.kP.registerClass("_Ewa.kP",_Ewa.vc,_Ewa.eO,Sys.IDisposable);_Ewa.kQ.registerClass("_Ewa.kQ",_Ewa.hJ.$$(_Ewa.eO));_Ewa.yl.a();Type.registerNamespace("_Ewa");_Ewa.rg=function(a){this.a=a};_Ewa.rg.prototype={a:null,n:function(){return false},l:function(d,b,c){var a=this.a.b(2382951455,2,c);return a!==2?$$sc.a.a(Boolean,true):_Ewa.F.a(b.a)},k:function(b,a){return a.a===1204860550},m:function(){return false}};_Ewa.kR=function(a){_Ewa.kR.initializeBase(this,[a])};_Ewa.kR.a=function(a){_Ewa.N.a(119,new _Ewa.kR(a))};_Ewa.kR.prototype={j:function(){var a=this;_Ewa.f.cw(_Ewa.m.a(Object,this.h.a(),143,this.ch()),function(){a.k([new _Ewa.rg(Common.a.c())],null)},this.ch(),3)}};_Ewa.kR.registerClass("_Ewa.kR",_Ewa.N);Type.registerNamespace("_Ewa");_Ewa.yn=function(){};_Ewa.yn.a=function(){_Ewa.e.a(_Ewa.kR.a)};_Ewa.yn.a()